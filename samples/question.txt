
    Write a Python function called 'find_max_min' that takes a list of numbers as input 
    and returns a tuple containing the maximum and minimum values in the list.
    
    Example:
    Input: [5, 2, 9, 1, 7]
    Output: (9, 1)
    
    Requirements:
    1. The function should handle empty lists by returning (None, None)
    2. The function should work with both positive and negative numbers
    3. If the list contains only one element, return that element as both max and min
    